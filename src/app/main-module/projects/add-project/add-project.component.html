<app-loader *ngIf="loading"></app-loader>
<div id="right-panel" class="container mx-auto">
      <h1 class="text-2xl text-[#2B2B2B] my-3 font-semibold">{{project_id ? 'Update' : 'Add'}} Project</h1>
      <div class="p-5 mt-5 bg-[#f9f9f9] rounded-lg shadow-md">
            <p-steps [model]="items" [readonly]="false" [activeIndex]="activeIndex"
                  styleClass="bg-white border shadow p-5 rounded-full font-semibold"></p-steps>
            <div class="mt-5 grid grid-cols-3 gap-5">
                  <div class="col-span-3 lg:col-span-1">
                        <div class="p-fluid" *ngIf="activeIndex === 0">
                              <form class="" [formGroup]="projectBasicInfoForm">
                                    <div class="col-span-1 grid grid-cols-1 gap-x-4 gap-y-5">
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">Project
                                                      name*</label>
                                                <input type="text" placeholder="Enter project name"
                                                      [ngClass]="projectBasicInfoForm.controls['project_name'].errors && projectBasicInfoForm.controls['project_name'].touched ? 'outline-red-600' : ''"
                                                      [(ngModel)]="project_name" formControlName="project_name"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                                <p *ngIf="
                                                      projectBasicInfoForm.controls['project_name'].errors &&
                                                      projectBasicInfoForm.controls['project_name'].touched"
                                                      class="flex text-xs text-red-600 justify-between items-center mt-2">
                                                      {{ getErrorMessage('project_name') }}
                                                      <svg width="13" height="13" viewBox="0 0 17 17" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M7.65 11.05H9.35V12.75H7.65V11.05ZM7.65 4.25H9.35V9.35H7.65V4.25ZM8.4915 4.25039e-06C6.81072 0.00168503 5.16817 0.501629 3.77147 1.43664C2.37478 2.37166 1.28663 3.69976 0.644591 5.25308C0.00254921 6.8064 -0.164567 8.5152 0.164367 10.1635C0.4933 11.8118 1.30352 13.3255 2.4926 14.5134C3.68168 15.7013 5.19625 16.51 6.84486 16.8373C8.49346 17.1646 10.2021 16.9958 11.7548 16.3522C13.3074 15.7086 14.6345 14.6191 15.5681 13.2215C16.5017 11.8238 17 10.1808 17 8.5C17 7.38305 16.7799 6.27705 16.3522 5.24523C15.9245 4.21341 15.2976 3.276 14.5074 2.48659C13.7172 1.69718 12.7792 1.07125 11.7469 0.644587C10.7147 0.217922 9.60845 -0.0011127 8.4915 4.25039e-06ZM8.5 15.3C7.15509 15.3 5.84038 14.9012 4.72213 14.154C3.60387 13.4068 2.7323 12.3448 2.21762 11.1022C1.70295 9.85971 1.56828 8.49246 1.83066 7.17339C2.09304 5.85432 2.74068 4.64267 3.69168 3.69168C4.64267 2.74068 5.85432 2.09304 7.17339 1.83066C8.49246 1.56828 9.85971 1.70295 11.1022 2.21762C12.3448 2.7323 13.4068 3.60387 14.154 4.72213C14.9012 5.84038 15.3 7.15509 15.3 8.5C15.3 10.3035 14.5836 12.0331 13.3083 13.3083C12.0331 14.5836 10.3035 15.3 8.5 15.3Z"
                                                                  fill="#F80000" />
                                                      </svg>
                                                </p>
                                          </div>
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">Project
                                                      Subtitle</label>
                                                <input type="text" placeholder="sub title of the project"
                                                      [ngClass]="projectBasicInfoForm.controls['project_subtitle'].errors && projectBasicInfoForm.controls['project_subtitle'].touched ? 'outline-red-600' : ''"
                                                      [(ngModel)]="project_subtitle" formControlName="project_subtitle"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                                <p *ngIf="
                                                      projectBasicInfoForm.controls['project_subtitle'].errors &&
                                                      projectBasicInfoForm.controls['project_subtitle'].touched"
                                                      class="flex text-xs text-red-600 justify-between items-center mt-2">
                                                      {{ getErrorMessage('project_subtitle') }}
                                                      <svg width="13" height="13" viewBox="0 0 17 17" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M7.65 11.05H9.35V12.75H7.65V11.05ZM7.65 4.25H9.35V9.35H7.65V4.25ZM8.4915 4.25039e-06C6.81072 0.00168503 5.16817 0.501629 3.77147 1.43664C2.37478 2.37166 1.28663 3.69976 0.644591 5.25308C0.00254921 6.8064 -0.164567 8.5152 0.164367 10.1635C0.4933 11.8118 1.30352 13.3255 2.4926 14.5134C3.68168 15.7013 5.19625 16.51 6.84486 16.8373C8.49346 17.1646 10.2021 16.9958 11.7548 16.3522C13.3074 15.7086 14.6345 14.6191 15.5681 13.2215C16.5017 11.8238 17 10.1808 17 8.5C17 7.38305 16.7799 6.27705 16.3522 5.24523C15.9245 4.21341 15.2976 3.276 14.5074 2.48659C13.7172 1.69718 12.7792 1.07125 11.7469 0.644587C10.7147 0.217922 9.60845 -0.0011127 8.4915 4.25039e-06ZM8.5 15.3C7.15509 15.3 5.84038 14.9012 4.72213 14.154C3.60387 13.4068 2.7323 12.3448 2.21762 11.1022C1.70295 9.85971 1.56828 8.49246 1.83066 7.17339C2.09304 5.85432 2.74068 4.64267 3.69168 3.69168C4.64267 2.74068 5.85432 2.09304 7.17339 1.83066C8.49246 1.56828 9.85971 1.70295 11.1022 2.21762C12.3448 2.7323 13.4068 3.60387 14.154 4.72213C14.9012 5.84038 15.3 7.15509 15.3 8.5C15.3 10.3035 14.5836 12.0331 13.3083 13.3083C12.0331 14.5836 10.3035 15.3 8.5 15.3Z"
                                                                  fill="#F80000" />
                                                      </svg>
                                                </p>
                                          </div>
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">Project
                                                      Subtitle 2</label>
                                                <input type="text" placeholder="Enter sub title 2 of the project"
                                                      [ngClass]="projectBasicInfoForm.controls['project_subtitle_2'].errors && projectBasicInfoForm.controls['project_subtitle_2'].touched ? 'outline-red-600' : ''"
                                                      [(ngModel)]="project_subtitle_2"
                                                      formControlName="project_subtitle_2"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                                <p *ngIf="
                                                      projectBasicInfoForm.controls['project_subtitle_2'].errors &&
                                                      projectBasicInfoForm.controls['project_subtitle_2'].touched"
                                                      class="flex text-xs text-red-600 justify-between items-center mt-2">
                                                      F
                                                      {{ getErrorMessage('project_subtitle_2') }}
                                                      <svg width="13" height="13" viewBox="0 0 17 17" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M7.65 11.05H9.35V12.75H7.65V11.05ZM7.65 4.25H9.35V9.35H7.65V4.25ZM8.4915 4.25039e-06C6.81072 0.00168503 5.16817 0.501629 3.77147 1.43664C2.37478 2.37166 1.28663 3.69976 0.644591 5.25308C0.00254921 6.8064 -0.164567 8.5152 0.164367 10.1635C0.4933 11.8118 1.30352 13.3255 2.4926 14.5134C3.68168 15.7013 5.19625 16.51 6.84486 16.8373C8.49346 17.1646 10.2021 16.9958 11.7548 16.3522C13.3074 15.7086 14.6345 14.6191 15.5681 13.2215C16.5017 11.8238 17 10.1808 17 8.5C17 7.38305 16.7799 6.27705 16.3522 5.24523C15.9245 4.21341 15.2976 3.276 14.5074 2.48659C13.7172 1.69718 12.7792 1.07125 11.7469 0.644587C10.7147 0.217922 9.60845 -0.0011127 8.4915 4.25039e-06ZM8.5 15.3C7.15509 15.3 5.84038 14.9012 4.72213 14.154C3.60387 13.4068 2.7323 12.3448 2.21762 11.1022C1.70295 9.85971 1.56828 8.49246 1.83066 7.17339C2.09304 5.85432 2.74068 4.64267 3.69168 3.69168C4.64267 2.74068 5.85432 2.09304 7.17339 1.83066C8.49246 1.56828 9.85971 1.70295 11.1022 2.21762C12.3448 2.7323 13.4068 3.60387 14.154 4.72213C14.9012 5.84038 15.3 7.15509 15.3 8.5C15.3 10.3035 14.5836 12.0331 13.3083 13.3083C12.0331 14.5836 10.3035 15.3 8.5 15.3Z"
                                                                  fill="#F80000" />
                                                      </svg>
                                                </p>
                                          </div>
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">Project Short
                                                      Description</label>
                                                <!-- <input type="text"
                                                      placeholder="Enter the short description of the project"
                                                      formControlName="project_short_desc"
                                                      [(ngModel)]="project_short_desc"
                                                      [ngClass]="projectBasicInfoForm.controls['project_short_desc'].errors && projectBasicInfoForm.controls['project_short_desc'].touched ? 'outline-red-600' : ''"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent"> -->
                                                <div
                                                      class="border border-gray-300 rounded-lg p-1 focus:outline outline-primary text-sm bg-transparent">
                                                      <ngx-editor-menu [editor]="editor" [toolbar]="toolbar">
                                                      </ngx-editor-menu>
                                                      <ngx-editor [editor]="editor" [(ngModel)]="project_short_desc"
                                                            formControlName="project_short_desc"
                                                            [placeholder]="'Enter the short description of the project'"></ngx-editor>
                                                </div>
                                                <p *ngIf="
                                                      projectBasicInfoForm.controls['project_short_desc'].errors &&
                                                      projectBasicInfoForm.controls['project_short_desc'].touched"
                                                      class="flex text-xs text-red-600 justify-between items-center mt-2">
                                                      {{ getErrorMessage('project_short_desc') }}
                                                      <svg width="13" height="13" viewBox="0 0 17 17" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M7.65 11.05H9.35V12.75H7.65V11.05ZM7.65 4.25H9.35V9.35H7.65V4.25ZM8.4915 4.25039e-06C6.81072 0.00168503 5.16817 0.501629 3.77147 1.43664C2.37478 2.37166 1.28663 3.69976 0.644591 5.25308C0.00254921 6.8064 -0.164567 8.5152 0.164367 10.1635C0.4933 11.8118 1.30352 13.3255 2.4926 14.5134C3.68168 15.7013 5.19625 16.51 6.84486 16.8373C8.49346 17.1646 10.2021 16.9958 11.7548 16.3522C13.3074 15.7086 14.6345 14.6191 15.5681 13.2215C16.5017 11.8238 17 10.1808 17 8.5C17 7.38305 16.7799 6.27705 16.3522 5.24523C15.9245 4.21341 15.2976 3.276 14.5074 2.48659C13.7172 1.69718 12.7792 1.07125 11.7469 0.644587C10.7147 0.217922 9.60845 -0.0011127 8.4915 4.25039e-06ZM8.5 15.3C7.15509 15.3 5.84038 14.9012 4.72213 14.154C3.60387 13.4068 2.7323 12.3448 2.21762 11.1022C1.70295 9.85971 1.56828 8.49246 1.83066 7.17339C2.09304 5.85432 2.74068 4.64267 3.69168 3.69168C4.64267 2.74068 5.85432 2.09304 7.17339 1.83066C8.49246 1.56828 9.85971 1.70295 11.1022 2.21762C12.3448 2.7323 13.4068 3.60387 14.154 4.72213C14.9012 5.84038 15.3 7.15509 15.3 8.5C15.3 10.3035 14.5836 12.0331 13.3083 13.3083C12.0331 14.5836 10.3035 15.3 8.5 15.3Z"
                                                                  fill="#F80000" />
                                                      </svg>
                                                </p>
                                          </div>
                                          <div class="grid gap-1 col-span-1 row-span-2">
                                                <label class="text-xs text-[#454545] font-medium" for="">Project Brief
                                                      Detail
                                                </label>
                                                <!-- <textarea id="freeform" placeholder="Enter project description"
                                                      formControlName="project_brief_detail"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent"
                                                      [ngClass]="projectBasicInfoForm.controls['project_brief_detail'].errors && projectBasicInfoForm.controls['project_brief_detail'].touched ? 'outline-red-600' : ''"
                                                      name="freeform" rows="5" cols="">
                                                          </textarea> -->
                                                <div
                                                      class="border border-gray-300 rounded-lg p-1 focus:outline outline-primary text-sm bg-transparent">
                                                      <ngx-editor-menu [editor]="editor2" [toolbar]="toolbar">
                                                      </ngx-editor-menu>
                                                      <ngx-editor [editor]="editor2" [(ngModel)]="project_brief_detail"
                                                            formControlName="project_brief_detail"
                                                            [placeholder]="'Enter project description'"></ngx-editor>
                                                </div>
                                                <p *ngIf="
                                                          projectBasicInfoForm.controls['project_brief_detail'].errors &&
                                                          projectBasicInfoForm.controls['project_brief_detail'].touched"
                                                      class="flex text-xs text-red-600 justify-between items-center mt-2">
                                                      {{ getErrorMessage('project_brief_detail') }}
                                                      <svg width="13" height="13" viewBox="0 0 17 17" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M7.65 11.05H9.35V12.75H7.65V11.05ZM7.65 4.25H9.35V9.35H7.65V4.25ZM8.4915 4.25039e-06C6.81072 0.00168503 5.16817 0.501629 3.77147 1.43664C2.37478 2.37166 1.28663 3.69976 0.644591 5.25308C0.00254921 6.8064 -0.164567 8.5152 0.164367 10.1635C0.4933 11.8118 1.30352 13.3255 2.4926 14.5134C3.68168 15.7013 5.19625 16.51 6.84486 16.8373C8.49346 17.1646 10.2021 16.9958 11.7548 16.3522C13.3074 15.7086 14.6345 14.6191 15.5681 13.2215C16.5017 11.8238 17 10.1808 17 8.5C17 7.38305 16.7799 6.27705 16.3522 5.24523C15.9245 4.21341 15.2976 3.276 14.5074 2.48659C13.7172 1.69718 12.7792 1.07125 11.7469 0.644587C10.7147 0.217922 9.60845 -0.0011127 8.4915 4.25039e-06ZM8.5 15.3C7.15509 15.3 5.84038 14.9012 4.72213 14.154C3.60387 13.4068 2.7323 12.3448 2.21762 11.1022C1.70295 9.85971 1.56828 8.49246 1.83066 7.17339C2.09304 5.85432 2.74068 4.64267 3.69168 3.69168C4.64267 2.74068 5.85432 2.09304 7.17339 1.83066C8.49246 1.56828 9.85971 1.70295 11.1022 2.21762C12.3448 2.7323 13.4068 3.60387 14.154 4.72213C14.9012 5.84038 15.3 7.15509 15.3 8.5C15.3 10.3035 14.5836 12.0331 13.3083 13.3083C12.0331 14.5836 10.3035 15.3 8.5 15.3Z"
                                                                  fill="#F80000" />
                                                      </svg>
                                                </p>
                                          </div>
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">Project Type
                                                      (Connect with Sustainable Development Goals)
                                                </label>
                                                <!-- <input type="text" placeholder="Enter the heading of the project"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent"
                                                      formControlName="project_description_heading"> -->
                                                <p-multiSelect [options]="projectTypes" [(ngModel)]="selectedProType"
                                                      formControlName="project_type" name="selectedProType"
                                                      panelStyleClass="bg-white py-1 shadow-xl"
                                                      defaultLabel="Select a Project Type"
                                                      [selectedItemsLabel]="'ellipsis'"
                                                      styleClass="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent"
                                                      (onChange)="onProjectTypeSelect($event)" [selectionLimit]="1"
                                                      [filter]="false" optionLabel="type"></p-multiSelect>
                                                <p *ngIf="
                                                      projectBasicInfoForm.controls['project_type'].errors &&
                                                      projectBasicInfoForm.controls['project_type'].touched"
                                                      class="flex text-xs text-red-600 justify-between items-center mt-2">
                                                      {{ getErrorMessage('project_type') }}
                                                      <svg width="13" height="13" viewBox="0 0 17 17" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M7.65 11.05H9.35V12.75H7.65V11.05ZM7.65 4.25H9.35V9.35H7.65V4.25ZM8.4915 4.25039e-06C6.81072 0.00168503 5.16817 0.501629 3.77147 1.43664C2.37478 2.37166 1.28663 3.69976 0.644591 5.25308C0.00254921 6.8064 -0.164567 8.5152 0.164367 10.1635C0.4933 11.8118 1.30352 13.3255 2.4926 14.5134C3.68168 15.7013 5.19625 16.51 6.84486 16.8373C8.49346 17.1646 10.2021 16.9958 11.7548 16.3522C13.3074 15.7086 14.6345 14.6191 15.5681 13.2215C16.5017 11.8238 17 10.1808 17 8.5C17 7.38305 16.7799 6.27705 16.3522 5.24523C15.9245 4.21341 15.2976 3.276 14.5074 2.48659C13.7172 1.69718 12.7792 1.07125 11.7469 0.644587C10.7147 0.217922 9.60845 -0.0011127 8.4915 4.25039e-06ZM8.5 15.3C7.15509 15.3 5.84038 14.9012 4.72213 14.154C3.60387 13.4068 2.7323 12.3448 2.21762 11.1022C1.70295 9.85971 1.56828 8.49246 1.83066 7.17339C2.09304 5.85432 2.74068 4.64267 3.69168 3.69168C4.64267 2.74068 5.85432 2.09304 7.17339 1.83066C8.49246 1.56828 9.85971 1.70295 11.1022 2.21762C12.3448 2.7323 13.4068 3.60387 14.154 4.72213C14.9012 5.84038 15.3 7.15509 15.3 8.5C15.3 10.3035 14.5836 12.0331 13.3083 13.3083C12.0331 14.5836 10.3035 15.3 8.5 15.3Z"
                                                                  fill="#F80000" />
                                                      </svg>
                                                </p>

                                          </div>
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">Sustainable
                                                      Development Goals (SDGs) (According to Project Type)
                                                </label>
                                                <p-multiSelect [options]="sdgsByProjectType" [(ngModel)]="selectedSdg"
                                                      optionDisabled="name"
                                                      formControlName="sustainableDevelopmentGoals"
                                                      panelStyleClass="bg-white py-1 shadow-xl"
                                                      defaultLabel="Select Sustainable Development Goals"
                                                      [selectedItemsLabel]="'ellipsis'"
                                                      styleClass="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent w-full"
                                                      (onChange)="onSdgSelect($event)" [filter]="false"
                                                      optionLabel="name"></p-multiSelect>
                                                <p *ngIf="
                                                projectBasicInfoForm.controls['sustainableDevelopmentGoals'].errors &&
                                                projectBasicInfoForm.controls['sustainableDevelopmentGoals'].touched"
                                                      class="flex text-xs text-red-600 justify-between items-center mt-2">
                                                      {{ getErrorMessage('sustainableDevelopmentGoals') }}
                                                      <svg width="13" height="13" viewBox="0 0 17 17" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M7.65 11.05H9.35V12.75H7.65V11.05ZM7.65 4.25H9.35V9.35H7.65V4.25ZM8.4915 4.25039e-06C6.81072 0.00168503 5.16817 0.501629 3.77147 1.43664C2.37478 2.37166 1.28663 3.69976 0.644591 5.25308C0.00254921 6.8064 -0.164567 8.5152 0.164367 10.1635C0.4933 11.8118 1.30352 13.3255 2.4926 14.5134C3.68168 15.7013 5.19625 16.51 6.84486 16.8373C8.49346 17.1646 10.2021 16.9958 11.7548 16.3522C13.3074 15.7086 14.6345 14.6191 15.5681 13.2215C16.5017 11.8238 17 10.1808 17 8.5C17 7.38305 16.7799 6.27705 16.3522 5.24523C15.9245 4.21341 15.2976 3.276 14.5074 2.48659C13.7172 1.69718 12.7792 1.07125 11.7469 0.644587C10.7147 0.217922 9.60845 -0.0011127 8.4915 4.25039e-06ZM8.5 15.3C7.15509 15.3 5.84038 14.9012 4.72213 14.154C3.60387 13.4068 2.7323 12.3448 2.21762 11.1022C1.70295 9.85971 1.56828 8.49246 1.83066 7.17339C2.09304 5.85432 2.74068 4.64267 3.69168 3.69168C4.64267 2.74068 5.85432 2.09304 7.17339 1.83066C8.49246 1.56828 9.85971 1.70295 11.1022 2.21762C12.3448 2.7323 13.4068 3.60387 14.154 4.72213C14.9012 5.84038 15.3 7.15509 15.3 8.5C15.3 10.3035 14.5836 12.0331 13.3083 13.3083C12.0331 14.5836 10.3035 15.3 8.5 15.3Z"
                                                                  fill="#F80000" />
                                                      </svg>
                                                </p>
                                          </div>
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">Specific SDG
                                                      Targets/Outcomes (Related to the selected SDGs)
                                                </label>
                                                <p-multiSelect [options]="SDG" [(ngModel)]="selectedSpecificSdg"
                                                      formControlName="specificSDGTargets"
                                                      panelStyleClass="bg-white py-1 shadow-xl"
                                                      defaultLabel="Select Sustainable Development Goals"
                                                      [selectedItemsLabel]="'ellipsis'" (onChange)="onSdgSelect($event)"
                                                      styleClass="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent w-full"
                                                      [filter]="false" optionLabel="name"></p-multiSelect>
                                                <p *ngIf="
                                          projectBasicInfoForm.controls['specificSDGTargets'].errors &&
                                          projectBasicInfoForm.controls['specificSDGTargets'].touched"
                                                      class="flex text-xs text-red-600 justify-between items-center mt-2">
                                                      {{ getErrorMessage('specificSDGTargets') }}
                                                      <svg width="13" height="13" viewBox="0 0 17 17" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M7.65 11.05H9.35V12.75H7.65V11.05ZM7.65 4.25H9.35V9.35H7.65V4.25ZM8.4915 4.25039e-06C6.81072 0.00168503 5.16817 0.501629 3.77147 1.43664C2.37478 2.37166 1.28663 3.69976 0.644591 5.25308C0.00254921 6.8064 -0.164567 8.5152 0.164367 10.1635C0.4933 11.8118 1.30352 13.3255 2.4926 14.5134C3.68168 15.7013 5.19625 16.51 6.84486 16.8373C8.49346 17.1646 10.2021 16.9958 11.7548 16.3522C13.3074 15.7086 14.6345 14.6191 15.5681 13.2215C16.5017 11.8238 17 10.1808 17 8.5C17 7.38305 16.7799 6.27705 16.3522 5.24523C15.9245 4.21341 15.2976 3.276 14.5074 2.48659C13.7172 1.69718 12.7792 1.07125 11.7469 0.644587C10.7147 0.217922 9.60845 -0.0011127 8.4915 4.25039e-06ZM8.5 15.3C7.15509 15.3 5.84038 14.9012 4.72213 14.154C3.60387 13.4068 2.7323 12.3448 2.21762 11.1022C1.70295 9.85971 1.56828 8.49246 1.83066 7.17339C2.09304 5.85432 2.74068 4.64267 3.69168 3.69168C4.64267 2.74068 5.85432 2.09304 7.17339 1.83066C8.49246 1.56828 9.85971 1.70295 11.1022 2.21762C12.3448 2.7323 13.4068 3.60387 14.154 4.72213C14.9012 5.84038 15.3 7.15509 15.3 8.5C15.3 10.3035 14.5836 12.0331 13.3083 13.3083C12.0331 14.5836 10.3035 15.3 8.5 15.3Z"
                                                                  fill="#F80000" />
                                                      </svg>
                                                </p>
                                          </div>
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">Country</label>
                                                <input type="text" placeholder="Country" formControlName="country"
                                                      [ngClass]="projectBasicInfoForm.controls['country'].errors && projectBasicInfoForm.controls['country'].touched ? 'outline-red-600' : ''"
                                                      (input)="getFlag($event)"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                                <p *ngIf="
                                                      projectBasicInfoForm.controls['country'].errors &&
                                                      projectBasicInfoForm.controls['country'].touched"
                                                      class="flex text-xs text-red-600 justify-between items-center mt-2">
                                                      {{ getErrorMessage('country') }}
                                                      <svg width="13" height="13" viewBox="0 0 17 17" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M7.65 11.05H9.35V12.75H7.65V11.05ZM7.65 4.25H9.35V9.35H7.65V4.25ZM8.4915 4.25039e-06C6.81072 0.00168503 5.16817 0.501629 3.77147 1.43664C2.37478 2.37166 1.28663 3.69976 0.644591 5.25308C0.00254921 6.8064 -0.164567 8.5152 0.164367 10.1635C0.4933 11.8118 1.30352 13.3255 2.4926 14.5134C3.68168 15.7013 5.19625 16.51 6.84486 16.8373C8.49346 17.1646 10.2021 16.9958 11.7548 16.3522C13.3074 15.7086 14.6345 14.6191 15.5681 13.2215C16.5017 11.8238 17 10.1808 17 8.5C17 7.38305 16.7799 6.27705 16.3522 5.24523C15.9245 4.21341 15.2976 3.276 14.5074 2.48659C13.7172 1.69718 12.7792 1.07125 11.7469 0.644587C10.7147 0.217922 9.60845 -0.0011127 8.4915 4.25039e-06ZM8.5 15.3C7.15509 15.3 5.84038 14.9012 4.72213 14.154C3.60387 13.4068 2.7323 12.3448 2.21762 11.1022C1.70295 9.85971 1.56828 8.49246 1.83066 7.17339C2.09304 5.85432 2.74068 4.64267 3.69168 3.69168C4.64267 2.74068 5.85432 2.09304 7.17339 1.83066C8.49246 1.56828 9.85971 1.70295 11.1022 2.21762C12.3448 2.7323 13.4068 3.60387 14.154 4.72213C14.9012 5.84038 15.3 7.15509 15.3 8.5C15.3 10.3035 14.5836 12.0331 13.3083 13.3083C12.0331 14.5836 10.3035 15.3 8.5 15.3Z"
                                                                  fill="#F80000" />
                                                      </svg>
                                                </p>
                                          </div>
                                          <div class="grid grid-cols-3 gap-3 col-span-1">
                                                <div class="grid gap-1 col-span-2">
                                                      <label class="text-xs text-[#454545] font-medium" for="">Land Area
                                                            in
                                                            {{landUnit}}
                                                      </label>
                                                      <input type="number" min="0.0" max="100000000"
                                                            [placeholder]="'Enter the land area in ' + landUnit"
                                                            [ngClass]="projectBasicInfoForm.controls['projectArea'].errors && projectBasicInfoForm.controls['projectArea'].touched ? 'outline-red-600' : ''"
                                                            [(ngModel)]="project_area" formControlName="projectArea"
                                                            class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                                </div>
                                                <div class="col-span-1">
                                                      <div class="flex gap-1 items-end h-full pb-3">
                                                            <input type="checkbox" class="h-4 w-4 accent-primary"
                                                                  (change)="onAreaUnitChecked($event)" id="remember"
                                                                  name="remember">
                                                            <label for="remember"
                                                                  class="text-xs text-[#454545] font-medium">In
                                                                  hectares</label>
                                                      </div>
                                                </div>
                                                <p *ngIf="
                                                projectBasicInfoForm.controls['projectArea'].errors &&
                                                projectBasicInfoForm.controls['projectArea'].touched"
                                                      class="flex text-xs text-red-600 justify-between items-center mt-2 col-span-3">
                                                      {{ getErrorMessage('projectArea') }}
                                                      <svg width="13" height="13" viewBox="0 0 17 17" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M7.65 11.05H9.35V12.75H7.65V11.05ZM7.65 4.25H9.35V9.35H7.65V4.25ZM8.4915 4.25039e-06C6.81072 0.00168503 5.16817 0.501629 3.77147 1.43664C2.37478 2.37166 1.28663 3.69976 0.644591 5.25308C0.00254921 6.8064 -0.164567 8.5152 0.164367 10.1635C0.4933 11.8118 1.30352 13.3255 2.4926 14.5134C3.68168 15.7013 5.19625 16.51 6.84486 16.8373C8.49346 17.1646 10.2021 16.9958 11.7548 16.3522C13.3074 15.7086 14.6345 14.6191 15.5681 13.2215C16.5017 11.8238 17 10.1808 17 8.5C17 7.38305 16.7799 6.27705 16.3522 5.24523C15.9245 4.21341 15.2976 3.276 14.5074 2.48659C13.7172 1.69718 12.7792 1.07125 11.7469 0.644587C10.7147 0.217922 9.60845 -0.0011127 8.4915 4.25039e-06ZM8.5 15.3C7.15509 15.3 5.84038 14.9012 4.72213 14.154C3.60387 13.4068 2.7323 12.3448 2.21762 11.1022C1.70295 9.85971 1.56828 8.49246 1.83066 7.17339C2.09304 5.85432 2.74068 4.64267 3.69168 3.69168C4.64267 2.74068 5.85432 2.09304 7.17339 1.83066C8.49246 1.56828 9.85971 1.70295 11.1022 2.21762C12.3448 2.7323 13.4068 3.60387 14.154 4.72213C14.9012 5.84038 15.3 7.15509 15.3 8.5C15.3 10.3035 14.5836 12.0331 13.3083 13.3083C12.0331 14.5836 10.3035 15.3 8.5 15.3Z"
                                                                  fill="#F80000" />
                                                      </svg>
                                                </p>
                                          </div>
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">Location
                                                      (Interactive Map Integration)</label>
                                                <input type="text" placeholder="Enter the location of the project"
                                                      formControlName="location"
                                                      [ngClass]="projectBasicInfoForm.controls['location'].errors && projectBasicInfoForm.controls['location'].touched ? 'outline-red-600' : ''"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                                <p *ngIf="
                                                      projectBasicInfoForm.controls['location'].errors &&
                                                      projectBasicInfoForm.controls['location'].touched"
                                                      class="flex text-xs text-red-600 justify-between items-center mt-2">
                                                      {{ getErrorMessage('location') }}
                                                      <svg width="13" height="13" viewBox="0 0 17 17" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M7.65 11.05H9.35V12.75H7.65V11.05ZM7.65 4.25H9.35V9.35H7.65V4.25ZM8.4915 4.25039e-06C6.81072 0.00168503 5.16817 0.501629 3.77147 1.43664C2.37478 2.37166 1.28663 3.69976 0.644591 5.25308C0.00254921 6.8064 -0.164567 8.5152 0.164367 10.1635C0.4933 11.8118 1.30352 13.3255 2.4926 14.5134C3.68168 15.7013 5.19625 16.51 6.84486 16.8373C8.49346 17.1646 10.2021 16.9958 11.7548 16.3522C13.3074 15.7086 14.6345 14.6191 15.5681 13.2215C16.5017 11.8238 17 10.1808 17 8.5C17 7.38305 16.7799 6.27705 16.3522 5.24523C15.9245 4.21341 15.2976 3.276 14.5074 2.48659C13.7172 1.69718 12.7792 1.07125 11.7469 0.644587C10.7147 0.217922 9.60845 -0.0011127 8.4915 4.25039e-06ZM8.5 15.3C7.15509 15.3 5.84038 14.9012 4.72213 14.154C3.60387 13.4068 2.7323 12.3448 2.21762 11.1022C1.70295 9.85971 1.56828 8.49246 1.83066 7.17339C2.09304 5.85432 2.74068 4.64267 3.69168 3.69168C4.64267 2.74068 5.85432 2.09304 7.17339 1.83066C8.49246 1.56828 9.85971 1.70295 11.1022 2.21762C12.3448 2.7323 13.4068 3.60387 14.154 4.72213C14.9012 5.84038 15.3 7.15509 15.3 8.5C15.3 10.3035 14.5836 12.0331 13.3083 13.3083C12.0331 14.5836 10.3035 15.3 8.5 15.3Z"
                                                                  fill="#F80000" />
                                                      </svg>
                                                </p>
                                          </div>
                                          <div class="flex justify-end mt-4">
                                                <button [disabled]="projectBasicInfoForm.invalid"
                                                      [ngClass]="projectBasicInfoForm.invalid ? 'cursor-not-allowed' : 'cursor-pointer'"
                                                      class="text-white bg-primary-gradient px-4 py-1 hover:bg-transparent hover:text-primary rounded-md border border-primary flex items-center space-x-2 font-medium"
                                                      type="button" label="Next" (click)="nextPage()">Next</button>
                                          </div>
                                    </div>
                              </form>
                        </div>
                        <div class="p-fluid" *ngIf="activeIndex === 1">
                              <form class="" [formGroup]="projectDetailForm">
                                    <div class="col-span-1 grid grid-cols-1 gap-x-4 gap-y-5">
                                          <div
                                                class="flex gap-5 items-center mb-3 justify-between bg-primary-gradient p-1 rounded-lg">
                                                <button class="font-medium py-1 w-1/2 rounded-lg text-sm"
                                                      [class.bg-white]="selectedType == 'N'"
                                                      [class.text-primary]="selectedType == 'N'"
                                                      [class.text-white]="selectedType != 'N'"
                                                      (click)="selectProjectType('N')">
                                                      New Project
                                                </button>
                                                <button class="font-medium py-1 w-1/2 rounded-lg text-sm"
                                                      [class.bg-white]="selectedType == 'E'"
                                                      [class.text-primary]="selectedType == 'E'"
                                                      [class.text-white]="selectedType != 'E'"
                                                      (click)="selectProjectType('E')">
                                                      Existing Project
                                                </button>
                                          </div>
                                          <div class="grid gap-1 col-span-1"
                                                *ngIf="role == 'Approver' && selectedType == 'E'">
                                                <label class="text-xs text-[#454545] font-medium" for="">Start Date
                                                </label>
                                                <input type="date" formControlName="start_date"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                          </div>
                                          <div class="grid gap-1 col-span-1"
                                                *ngIf="role == 'Approver' && selectedType == 'E'">
                                                <label class="text-xs text-[#454545] font-medium" for="">End Date
                                                </label>
                                                <input type="date" formControlName="end_date"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                                <p *ngIf="projectDetailForm.errors!['dateRangeInvalid']"
                                                      class="flex text-xs text-red-600 justify-between items-center mt-2">
                                                      End date must be after or equal to the start date
                                                      <svg width="13" height="13" viewBox="0 0 17 17" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M7.65 11.05H9.35V12.75H7.65V11.05ZM7.65 4.25H9.35V9.35H7.65V4.25ZM8.4915 4.25039e-06C6.81072 0.00168503 5.16817 0.501629 3.77147 1.43664C2.37478 2.37166 1.28663 3.69976 0.644591 5.25308C0.00254921 6.8064 -0.164567 8.5152 0.164367 10.1635C0.4933 11.8118 1.30352 13.3255 2.4926 14.5134C3.68168 15.7013 5.19625 16.51 6.84486 16.8373C8.49346 17.1646 10.2021 16.9958 11.7548 16.3522C13.3074 15.7086 14.6345 14.6191 15.5681 13.2215C16.5017 11.8238 17 10.1808 17 8.5C17 7.38305 16.7799 6.27705 16.3522 5.24523C15.9245 4.21341 15.2976 3.276 14.5074 2.48659C13.7172 1.69718 12.7792 1.07125 11.7469 0.644587C10.7147 0.217922 9.60845 -0.0011127 8.4915 4.25039e-06ZM8.5 15.3C7.15509 15.3 5.84038 14.9012 4.72213 14.154C3.60387 13.4068 2.7323 12.3448 2.21762 11.1022C1.70295 9.85971 1.56828 8.49246 1.83066 7.17339C2.09304 5.85432 2.74068 4.64267 3.69168 3.69168C4.64267 2.74068 5.85432 2.09304 7.17339 1.83066C8.49246 1.56828 9.85971 1.70295 11.1022 2.21762C12.3448 2.7323 13.4068 3.60387 14.154 4.72213C14.9012 5.84038 15.3 7.15509 15.3 8.5C15.3 10.3035 14.5836 12.0331 13.3083 13.3083C12.0331 14.5836 10.3035 15.3 8.5 15.3Z"
                                                                  fill="#F80000" />
                                                      </svg>
                                                </p>
                                          </div>
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">Total
                                                      Credits</label>
                                                <input type="number" min="0" [(ngModel)]="total_credits"
                                                      placeholder="Enter Total credits"
                                                      [ngClass]="projectDetailForm.controls['credits'].errors && projectDetailForm.controls['credits'].touched ? 'outline-red-600' : ''"
                                                      formControlName="credits"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                                <p *ngIf="
                                                projectDetailForm.controls['credits'].errors &&
                                                projectDetailForm.controls['credits'].touched"
                                                      class="flex text-xs text-red-600 justify-between items-center mt-2">
                                                      {{ getErrorMessage('credits') }}
                                                      <svg width="13" height="13" viewBox="0 0 17 17" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M7.65 11.05H9.35V12.75H7.65V11.05ZM7.65 4.25H9.35V9.35H7.65V4.25ZM8.4915 4.25039e-06C6.81072 0.00168503 5.16817 0.501629 3.77147 1.43664C2.37478 2.37166 1.28663 3.69976 0.644591 5.25308C0.00254921 6.8064 -0.164567 8.5152 0.164367 10.1635C0.4933 11.8118 1.30352 13.3255 2.4926 14.5134C3.68168 15.7013 5.19625 16.51 6.84486 16.8373C8.49346 17.1646 10.2021 16.9958 11.7548 16.3522C13.3074 15.7086 14.6345 14.6191 15.5681 13.2215C16.5017 11.8238 17 10.1808 17 8.5C17 7.38305 16.7799 6.27705 16.3522 5.24523C15.9245 4.21341 15.2976 3.276 14.5074 2.48659C13.7172 1.69718 12.7792 1.07125 11.7469 0.644587C10.7147 0.217922 9.60845 -0.0011127 8.4915 4.25039e-06ZM8.5 15.3C7.15509 15.3 5.84038 14.9012 4.72213 14.154C3.60387 13.4068 2.7323 12.3448 2.21762 11.1022C1.70295 9.85971 1.56828 8.49246 1.83066 7.17339C2.09304 5.85432 2.74068 4.64267 3.69168 3.69168C4.64267 2.74068 5.85432 2.09304 7.17339 1.83066C8.49246 1.56828 9.85971 1.70295 11.1022 2.21762C12.3448 2.7323 13.4068 3.60387 14.154 4.72213C14.9012 5.84038 15.3 7.15509 15.3 8.5C15.3 10.3035 14.5836 12.0331 13.3083 13.3083C12.0331 14.5836 10.3035 15.3 8.5 15.3Z"
                                                                  fill="#F80000" />
                                                      </svg>
                                                </p>
                                          </div>
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">Remaining
                                                      Credits</label>
                                                <input type="number" min="0" [max]="total_credits"
                                                      placeholder="Enter Remaining credits"
                                                      [ngClass]="projectDetailForm.controls['remaining_credit'].errors && projectDetailForm.controls['remaining_credit'].touched ? 'outline-red-600' : ''"
                                                      formControlName="remaining_credit"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                                <p *ngIf="
                                                projectDetailForm.controls['remaining_credit'].errors &&
                                                projectDetailForm.controls['remaining_credit'].touched"
                                                      class="flex text-xs text-red-600 justify-between items-center mt-2">
                                                      {{ getErrorMessage('remaining_credit') }}
                                                      <svg width="13" height="13" viewBox="0 0 17 17" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M7.65 11.05H9.35V12.75H7.65V11.05ZM7.65 4.25H9.35V9.35H7.65V4.25ZM8.4915 4.25039e-06C6.81072 0.00168503 5.16817 0.501629 3.77147 1.43664C2.37478 2.37166 1.28663 3.69976 0.644591 5.25308C0.00254921 6.8064 -0.164567 8.5152 0.164367 10.1635C0.4933 11.8118 1.30352 13.3255 2.4926 14.5134C3.68168 15.7013 5.19625 16.51 6.84486 16.8373C8.49346 17.1646 10.2021 16.9958 11.7548 16.3522C13.3074 15.7086 14.6345 14.6191 15.5681 13.2215C16.5017 11.8238 17 10.1808 17 8.5C17 7.38305 16.7799 6.27705 16.3522 5.24523C15.9245 4.21341 15.2976 3.276 14.5074 2.48659C13.7172 1.69718 12.7792 1.07125 11.7469 0.644587C10.7147 0.217922 9.60845 -0.0011127 8.4915 4.25039e-06ZM8.5 15.3C7.15509 15.3 5.84038 14.9012 4.72213 14.154C3.60387 13.4068 2.7323 12.3448 2.21762 11.1022C1.70295 9.85971 1.56828 8.49246 1.83066 7.17339C2.09304 5.85432 2.74068 4.64267 3.69168 3.69168C4.64267 2.74068 5.85432 2.09304 7.17339 1.83066C8.49246 1.56828 9.85971 1.70295 11.1022 2.21762C12.3448 2.7323 13.4068 3.60387 14.154 4.72213C14.9012 5.84038 15.3 7.15509 15.3 8.5C15.3 10.3035 14.5836 12.0331 13.3083 13.3083C12.0331 14.5836 10.3035 15.3 8.5 15.3Z"
                                                                  fill="#F80000" />
                                                      </svg>
                                                </p>
                                          </div>
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">Registry
                                                      details
                                                </label>
                                                <input type="text" placeholder="Enter project registry details"
                                                      [ngClass]="projectDetailForm.controls['registry_details'].errors && projectDetailForm.controls['registry_details'].touched ? 'outline-red-600' : ''"
                                                      formControlName="registry_details"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                                <p *ngIf="
                                          projectDetailForm.controls['registry_details'].errors &&
                                          projectDetailForm.controls['registry_details'].touched"
                                                      class="flex text-xs text-red-600 justify-between items-center mt-2">
                                                      {{ getErrorMessage('registry_details') }}
                                                      <svg width="13" height="13" viewBox="0 0 17 17" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M7.65 11.05H9.35V12.75H7.65V11.05ZM7.65 4.25H9.35V9.35H7.65V4.25ZM8.4915 4.25039e-06C6.81072 0.00168503 5.16817 0.501629 3.77147 1.43664C2.37478 2.37166 1.28663 3.69976 0.644591 5.25308C0.00254921 6.8064 -0.164567 8.5152 0.164367 10.1635C0.4933 11.8118 1.30352 13.3255 2.4926 14.5134C3.68168 15.7013 5.19625 16.51 6.84486 16.8373C8.49346 17.1646 10.2021 16.9958 11.7548 16.3522C13.3074 15.7086 14.6345 14.6191 15.5681 13.2215C16.5017 11.8238 17 10.1808 17 8.5C17 7.38305 16.7799 6.27705 16.3522 5.24523C15.9245 4.21341 15.2976 3.276 14.5074 2.48659C13.7172 1.69718 12.7792 1.07125 11.7469 0.644587C10.7147 0.217922 9.60845 -0.0011127 8.4915 4.25039e-06ZM8.5 15.3C7.15509 15.3 5.84038 14.9012 4.72213 14.154C3.60387 13.4068 2.7323 12.3448 2.21762 11.1022C1.70295 9.85971 1.56828 8.49246 1.83066 7.17339C2.09304 5.85432 2.74068 4.64267 3.69168 3.69168C4.64267 2.74068 5.85432 2.09304 7.17339 1.83066C8.49246 1.56828 9.85971 1.70295 11.1022 2.21762C12.3448 2.7323 13.4068 3.60387 14.154 4.72213C14.9012 5.84038 15.3 7.15509 15.3 8.5C15.3 10.3035 14.5836 12.0331 13.3083 13.3083C12.0331 14.5836 10.3035 15.3 8.5 15.3Z"
                                                                  fill="#F80000" />
                                                      </svg>
                                                </p>
                                          </div>
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">Methodology
                                                </label>
                                                <input type="text" placeholder="Enter project methodology"
                                                      [ngClass]="projectDetailForm.controls['methodology'].errors && projectDetailForm.controls['methodology'].touched ? 'outline-red-600' : ''"
                                                      formControlName="methodology"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                                <p *ngIf="
                                          projectDetailForm.controls['methodology'].errors &&
                                          projectDetailForm.controls['methodology'].touched"
                                                      class="flex text-xs text-red-600 justify-between items-center mt-2">
                                                      {{ getErrorMessage('methodology') }}
                                                      <svg width="13" height="13" viewBox="0 0 17 17" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M7.65 11.05H9.35V12.75H7.65V11.05ZM7.65 4.25H9.35V9.35H7.65V4.25ZM8.4915 4.25039e-06C6.81072 0.00168503 5.16817 0.501629 3.77147 1.43664C2.37478 2.37166 1.28663 3.69976 0.644591 5.25308C0.00254921 6.8064 -0.164567 8.5152 0.164367 10.1635C0.4933 11.8118 1.30352 13.3255 2.4926 14.5134C3.68168 15.7013 5.19625 16.51 6.84486 16.8373C8.49346 17.1646 10.2021 16.9958 11.7548 16.3522C13.3074 15.7086 14.6345 14.6191 15.5681 13.2215C16.5017 11.8238 17 10.1808 17 8.5C17 7.38305 16.7799 6.27705 16.3522 5.24523C15.9245 4.21341 15.2976 3.276 14.5074 2.48659C13.7172 1.69718 12.7792 1.07125 11.7469 0.644587C10.7147 0.217922 9.60845 -0.0011127 8.4915 4.25039e-06ZM8.5 15.3C7.15509 15.3 5.84038 14.9012 4.72213 14.154C3.60387 13.4068 2.7323 12.3448 2.21762 11.1022C1.70295 9.85971 1.56828 8.49246 1.83066 7.17339C2.09304 5.85432 2.74068 4.64267 3.69168 3.69168C4.64267 2.74068 5.85432 2.09304 7.17339 1.83066C8.49246 1.56828 9.85971 1.70295 11.1022 2.21762C12.3448 2.7323 13.4068 3.60387 14.154 4.72213C14.9012 5.84038 15.3 7.15509 15.3 8.5C15.3 10.3035 14.5836 12.0331 13.3083 13.3083C12.0331 14.5836 10.3035 15.3 8.5 15.3Z"
                                                                  fill="#F80000" />
                                                      </svg>
                                                </p>
                                          </div>
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">Carbon
                                                </label>
                                                <input type="number" min="0" placeholder="Enter project carbon"
                                                      [ngClass]="projectDetailForm.controls['carbon'].errors && projectDetailForm.controls['carbon'].touched ? 'outline-red-600' : ''"
                                                      formControlName="carbon"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                                <p *ngIf="
                                          projectDetailForm.controls['carbon'].errors &&
                                          projectDetailForm.controls['carbon'].touched"
                                                      class="flex text-xs text-red-600 justify-between items-center mt-2">
                                                      {{ getErrorMessage('carbon') }}
                                                      <svg width="13" height="13" viewBox="0 0 17 17" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M7.65 11.05H9.35V12.75H7.65V11.05ZM7.65 4.25H9.35V9.35H7.65V4.25ZM8.4915 4.25039e-06C6.81072 0.00168503 5.16817 0.501629 3.77147 1.43664C2.37478 2.37166 1.28663 3.69976 0.644591 5.25308C0.00254921 6.8064 -0.164567 8.5152 0.164367 10.1635C0.4933 11.8118 1.30352 13.3255 2.4926 14.5134C3.68168 15.7013 5.19625 16.51 6.84486 16.8373C8.49346 17.1646 10.2021 16.9958 11.7548 16.3522C13.3074 15.7086 14.6345 14.6191 15.5681 13.2215C16.5017 11.8238 17 10.1808 17 8.5C17 7.38305 16.7799 6.27705 16.3522 5.24523C15.9245 4.21341 15.2976 3.276 14.5074 2.48659C13.7172 1.69718 12.7792 1.07125 11.7469 0.644587C10.7147 0.217922 9.60845 -0.0011127 8.4915 4.25039e-06ZM8.5 15.3C7.15509 15.3 5.84038 14.9012 4.72213 14.154C3.60387 13.4068 2.7323 12.3448 2.21762 11.1022C1.70295 9.85971 1.56828 8.49246 1.83066 7.17339C2.09304 5.85432 2.74068 4.64267 3.69168 3.69168C4.64267 2.74068 5.85432 2.09304 7.17339 1.83066C8.49246 1.56828 9.85971 1.70295 11.1022 2.21762C12.3448 2.7323 13.4068 3.60387 14.154 4.72213C14.9012 5.84038 15.3 7.15509 15.3 8.5C15.3 10.3035 14.5836 12.0331 13.3083 13.3083C12.0331 14.5836 10.3035 15.3 8.5 15.3Z"
                                                                  fill="#F80000" />
                                                      </svg>
                                                </p>
                                          </div>
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">NDVI
                                                </label>
                                                <input type="number" placeholder="Enter project NDVI"
                                                      [ngClass]="projectDetailForm.controls['ndvi'].errors && projectDetailForm.controls['ndvi'].touched ? 'outline-red-600' : ''"
                                                      formControlName="ndvi"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                                <p *ngIf="
                                                projectDetailForm.controls['ndvi'].errors &&
                                                projectDetailForm.controls['ndvi'].touched"
                                                      class="flex text-xs text-red-600 justify-between items-center mt-2">
                                                      {{ getErrorMessage('ndvi') }}
                                                      <svg width="13" height="13" viewBox="0 0 17 17" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M7.65 11.05H9.35V12.75H7.65V11.05ZM7.65 4.25H9.35V9.35H7.65V4.25ZM8.4915 4.25039e-06C6.81072 0.00168503 5.16817 0.501629 3.77147 1.43664C2.37478 2.37166 1.28663 3.69976 0.644591 5.25308C0.00254921 6.8064 -0.164567 8.5152 0.164367 10.1635C0.4933 11.8118 1.30352 13.3255 2.4926 14.5134C3.68168 15.7013 5.19625 16.51 6.84486 16.8373C8.49346 17.1646 10.2021 16.9958 11.7548 16.3522C13.3074 15.7086 14.6345 14.6191 15.5681 13.2215C16.5017 11.8238 17 10.1808 17 8.5C17 7.38305 16.7799 6.27705 16.3522 5.24523C15.9245 4.21341 15.2976 3.276 14.5074 2.48659C13.7172 1.69718 12.7792 1.07125 11.7469 0.644587C10.7147 0.217922 9.60845 -0.0011127 8.4915 4.25039e-06ZM8.5 15.3C7.15509 15.3 5.84038 14.9012 4.72213 14.154C3.60387 13.4068 2.7323 12.3448 2.21762 11.1022C1.70295 9.85971 1.56828 8.49246 1.83066 7.17339C2.09304 5.85432 2.74068 4.64267 3.69168 3.69168C4.64267 2.74068 5.85432 2.09304 7.17339 1.83066C8.49246 1.56828 9.85971 1.70295 11.1022 2.21762C12.3448 2.7323 13.4068 3.60387 14.154 4.72213C14.9012 5.84038 15.3 7.15509 15.3 8.5C15.3 10.3035 14.5836 12.0331 13.3083 13.3083C12.0331 14.5836 10.3035 15.3 8.5 15.3Z"
                                                                  fill="#F80000" />
                                                      </svg>
                                                </p>
                                          </div>
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">NPAR
                                                </label>
                                                <input type="number" placeholder="Enter project NPAR"
                                                      [ngClass]="projectDetailForm.controls['npar'].errors && projectDetailForm.controls['npar'].touched ? 'outline-red-600' : ''"
                                                      formControlName="npar"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                                <p *ngIf="
                                                projectDetailForm.controls['npar'].errors &&
                                                projectDetailForm.controls['npar'].touched"
                                                      class="flex text-xs text-red-600 justify-between items-center mt-2">
                                                      {{ getErrorMessage('npar') }}
                                                      <svg width="13" height="13" viewBox="0 0 17 17" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M7.65 11.05H9.35V12.75H7.65V11.05ZM7.65 4.25H9.35V9.35H7.65V4.25ZM8.4915 4.25039e-06C6.81072 0.00168503 5.16817 0.501629 3.77147 1.43664C2.37478 2.37166 1.28663 3.69976 0.644591 5.25308C0.00254921 6.8064 -0.164567 8.5152 0.164367 10.1635C0.4933 11.8118 1.30352 13.3255 2.4926 14.5134C3.68168 15.7013 5.19625 16.51 6.84486 16.8373C8.49346 17.1646 10.2021 16.9958 11.7548 16.3522C13.3074 15.7086 14.6345 14.6191 15.5681 13.2215C16.5017 11.8238 17 10.1808 17 8.5C17 7.38305 16.7799 6.27705 16.3522 5.24523C15.9245 4.21341 15.2976 3.276 14.5074 2.48659C13.7172 1.69718 12.7792 1.07125 11.7469 0.644587C10.7147 0.217922 9.60845 -0.0011127 8.4915 4.25039e-06ZM8.5 15.3C7.15509 15.3 5.84038 14.9012 4.72213 14.154C3.60387 13.4068 2.7323 12.3448 2.21762 11.1022C1.70295 9.85971 1.56828 8.49246 1.83066 7.17339C2.09304 5.85432 2.74068 4.64267 3.69168 3.69168C4.64267 2.74068 5.85432 2.09304 7.17339 1.83066C8.49246 1.56828 9.85971 1.70295 11.1022 2.21762C12.3448 2.7323 13.4068 3.60387 14.154 4.72213C14.9012 5.84038 15.3 7.15509 15.3 8.5C15.3 10.3035 14.5836 12.0331 13.3083 13.3083C12.0331 14.5836 10.3035 15.3 8.5 15.3Z"
                                                                  fill="#F80000" />
                                                      </svg>
                                                </p>
                                          </div>
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">PAR
                                                </label>
                                                <input type="number" placeholder="Enter project PAR"
                                                      [ngClass]="projectDetailForm.controls['par'].errors && projectDetailForm.controls['par'].touched ? 'outline-red-600' : ''"
                                                      formControlName="par"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                                <p *ngIf="
                                                projectDetailForm.controls['par'].errors &&
                                                projectDetailForm.controls['par'].touched"
                                                      class="flex text-xs text-red-600 justify-between items-center mt-2">
                                                      {{ getErrorMessage('par') }}
                                                      <svg width="13" height="13" viewBox="0 0 17 17" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M7.65 11.05H9.35V12.75H7.65V11.05ZM7.65 4.25H9.35V9.35H7.65V4.25ZM8.4915 4.25039e-06C6.81072 0.00168503 5.16817 0.501629 3.77147 1.43664C2.37478 2.37166 1.28663 3.69976 0.644591 5.25308C0.00254921 6.8064 -0.164567 8.5152 0.164367 10.1635C0.4933 11.8118 1.30352 13.3255 2.4926 14.5134C3.68168 15.7013 5.19625 16.51 6.84486 16.8373C8.49346 17.1646 10.2021 16.9958 11.7548 16.3522C13.3074 15.7086 14.6345 14.6191 15.5681 13.2215C16.5017 11.8238 17 10.1808 17 8.5C17 7.38305 16.7799 6.27705 16.3522 5.24523C15.9245 4.21341 15.2976 3.276 14.5074 2.48659C13.7172 1.69718 12.7792 1.07125 11.7469 0.644587C10.7147 0.217922 9.60845 -0.0011127 8.4915 4.25039e-06ZM8.5 15.3C7.15509 15.3 5.84038 14.9012 4.72213 14.154C3.60387 13.4068 2.7323 12.3448 2.21762 11.1022C1.70295 9.85971 1.56828 8.49246 1.83066 7.17339C2.09304 5.85432 2.74068 4.64267 3.69168 3.69168C4.64267 2.74068 5.85432 2.09304 7.17339 1.83066C8.49246 1.56828 9.85971 1.70295 11.1022 2.21762C12.3448 2.7323 13.4068 3.60387 14.154 4.72213C14.9012 5.84038 15.3 7.15509 15.3 8.5C15.3 10.3035 14.5836 12.0331 13.3083 13.3083C12.0331 14.5836 10.3035 15.3 8.5 15.3Z"
                                                                  fill="#F80000" />
                                                      </svg>
                                                </p>
                                          </div>
                                          <!-- <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">At what price
                                                      you are looking to sell your credits (Only if existing project and
                                                      decided by seller)
                                                </label>
                                                <input type="text" placeholder="Enter price" formControlName="price"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                          </div> -->
                                          <!-- <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">Current Phase
                                                </label>
                                                <input type="text" placeholder="Enter project Phase"
                                                      formControlName="current_phase"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                          </div> -->
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">Current Phase
                                                </label>
                                                <p-multiSelect [options]="projectPhases" [(ngModel)]="selectedPhase"
                                                      formControlName="current_phase"
                                                      panelStyleClass="bg-white py-1 shadow-xl"
                                                      defaultLabel="Select Project Phase"
                                                      [selectedItemsLabel]="'ellipsis'"
                                                      styleClass="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent"
                                                      [selectionLimit]="1" [filter]="false"
                                                      optionLabel="name"></p-multiSelect>
                                                <p *ngIf="
                                                projectDetailForm.controls['current_phase'].errors &&
                                                projectDetailForm.controls['current_phase'].touched"
                                                      class="flex text-xs text-red-600 justify-between items-center mt-2">
                                                      {{ getErrorMessage('current_phase') }}
                                                      <svg width="13" height="13" viewBox="0 0 17 17" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M7.65 11.05H9.35V12.75H7.65V11.05ZM7.65 4.25H9.35V9.35H7.65V4.25ZM8.4915 4.25039e-06C6.81072 0.00168503 5.16817 0.501629 3.77147 1.43664C2.37478 2.37166 1.28663 3.69976 0.644591 5.25308C0.00254921 6.8064 -0.164567 8.5152 0.164367 10.1635C0.4933 11.8118 1.30352 13.3255 2.4926 14.5134C3.68168 15.7013 5.19625 16.51 6.84486 16.8373C8.49346 17.1646 10.2021 16.9958 11.7548 16.3522C13.3074 15.7086 14.6345 14.6191 15.5681 13.2215C16.5017 11.8238 17 10.1808 17 8.5C17 7.38305 16.7799 6.27705 16.3522 5.24523C15.9245 4.21341 15.2976 3.276 14.5074 2.48659C13.7172 1.69718 12.7792 1.07125 11.7469 0.644587C10.7147 0.217922 9.60845 -0.0011127 8.4915 4.25039e-06ZM8.5 15.3C7.15509 15.3 5.84038 14.9012 4.72213 14.154C3.60387 13.4068 2.7323 12.3448 2.21762 11.1022C1.70295 9.85971 1.56828 8.49246 1.83066 7.17339C2.09304 5.85432 2.74068 4.64267 3.69168 3.69168C4.64267 2.74068 5.85432 2.09304 7.17339 1.83066C8.49246 1.56828 9.85971 1.70295 11.1022 2.21762C12.3448 2.7323 13.4068 3.60387 14.154 4.72213C14.9012 5.84038 15.3 7.15509 15.3 8.5C15.3 10.3035 14.5836 12.0331 13.3083 13.3083C12.0331 14.5836 10.3035 15.3 8.5 15.3Z"
                                                                  fill="#F80000" />
                                                      </svg>
                                                </p>
                                          </div>
                                          <div class="flex justify-end space-x-4 mt-4">
                                                <button
                                                      class="text-white bg-primary-gradient px-4 py-1 hover:bg-transparent hover:text-primary rounded-md border border-primary flex items-center space-x-2 font-medium"
                                                      type="button" label="Previous"
                                                      (click)="prevPage()">Previous</button>
                                                <button [disabled]="projectDetailForm.invalid"
                                                      [ngClass]="projectDetailForm.invalid ? 'cursor-not-allowed' : 'cursor-pointer'"
                                                      class="text-white bg-primary-gradient px-4 py-1 hover:bg-transparent hover:text-primary rounded-md border border-primary flex items-center space-x-2 font-medium"
                                                      type="button" label="Next" (click)="nextPage()">Next</button>
                                          </div>
                                    </div>
                              </form>
                        </div>
                        <div class="p-fluid" *ngIf="activeIndex === 2">
                              <form [formGroup]="impactBenefitsForm" class="flex justify-center">
                                    <div class="col-span-1 grid grid-cols-1 gap-x-4 gap-y-5">
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">Impact Metrics
                                                </label>
                                                <input type="text" formControlName="impact_metrics"
                                                      placeholder="Enter impact Metrics"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                          </div>
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">Local Benefits
                                                      (Job creation, infrastructure improvements, educational impacts,
                                                      etc.)
                                                </label>
                                                <input type="text" placeholder="Enter Local Benefits "
                                                      formControlName="local_benefits"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                          </div>
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">Funding and
                                                      Investment Details</label>
                                                <input type="text" placeholder="Enter Funding and Investment Details"
                                                      formControlName="funding_invstmnt_details"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                          </div>
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">Stakeholder
                                                      Information</label>
                                                <input type="text" placeholder="Enter Stakeholder Information"
                                                      formControlName="stakeholder_information"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                          </div>
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">Risk Assessment
                                                </label>
                                                <input type="text" placeholder="Enter Risk Assessment"
                                                      formControlName="risk_assessment"
                                                      class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                          </div>
                                          <div class="flex justify-end space-x-4 mt-4">
                                                <button
                                                      class="text-white bg-primary-gradient px-4 py-1 hover:bg-transparent hover:text-primary rounded-md border border-primary flex items-center space-x-2 font-medium"
                                                      type="button" label="Previous"
                                                      (click)="prevPage()">Previous</button>
                                                <button [disabled]="impactBenefitsForm.invalid"
                                                      [ngClass]="impactBenefitsForm.invalid ? 'cursor-not-allowed' : 'cursor-pointer'"
                                                      class="text-white bg-primary-gradient px-4 py-1 hover:bg-transparent hover:text-primary rounded-md border border-primary flex items-center space-x-2 font-medium"
                                                      type="button" label="Next" (click)="nextPage()">Next</button>
                                          </div>
                                    </div>
                              </form>
                        </div>
                        <div class="p-fluid" *ngIf="activeIndex === 3">
                              <form class="flex justify-center">
                                    <div class="col-span-1 grid grid-cols-1 gap-x-4 gap-y-5">
                                          <div class="flex flex-wrap gap-6">
                                                <div *ngFor="let image of sliderImages; let i = index" class="relative">
                                                      <img [src]="image.url" alt="Image {{i + 1}}"
                                                            class="w-24 h-24 object-cover rounded border border-primary" />
                                                      <button type="button" (click)="removeImage(i)"
                                                            class="absolute -bottom-1 -right-1 text-red-700">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="1.2em"
                                                                  height="1.2em" viewBox="0 0 48 48">
                                                                  <defs>
                                                                        <mask id="ipSCloseOne0">
                                                                              <g fill="none" stroke-linejoin="round"
                                                                                    stroke-width="4">
                                                                                    <path fill="#fff" stroke="#fff"
                                                                                          d="M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4S4 12.954 4 24s8.954 20 20 20Z" />
                                                                                    <path stroke="#000"
                                                                                          stroke-linecap="round"
                                                                                          d="M29.657 18.343L18.343 29.657m0-11.314l11.314 11.314" />
                                                                              </g>
                                                                        </mask>
                                                                  </defs>
                                                                  <path fill="currentColor" d="M0 0h48v48H0z"
                                                                        mask="url(#ipSCloseOne0)" />
                                                            </svg>
                                                      </button>
                                                      <input type="file" (change)="onFileSelected($event, i)"
                                                            accept="image/*"
                                                            class="absolute opacity-0 cursor-pointer w-24 h-24" />
                                                </div>

                                                <div *ngIf="sliderImages.length < maxImages"
                                                      class="w-24 h-24 flex items-center justify-center border border-primary rounded cursor-pointer relative">
                                                      <input type="file" (change)="onFileSelected($event)"
                                                            accept="image/*"
                                                            class="absolute opacity-0 cursor-pointer w-20" />
                                                      <div class="text-primary">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="1.5em"
                                                                  height="1.5em" viewBox="0 0 24 24">
                                                                  <path fill="currentColor"
                                                                        d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10s10-4.477 10-10S17.523 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z" />
                                                            </svg>
                                                      </div>
                                                </div>
                                          </div>

                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium" for="">Image
                                                      Description
                                                </label>
                                                <div class="grid gap-2 col-span-1"
                                                      *ngFor="let image of sliderImages; let i = index">
                                                      <input type="text" [value]="image.title" name="title"
                                                            (input)="onTitleChange(i, $event)"
                                                            [placeholder]="'Image Caption '+ (i+1)"
                                                            class="border border-gray-300 rounded-lg px-4 py-2 focus:outline outline-primary text-sm bg-transparent">
                                                </div>
                                          </div>
                                          <div class="grid gap-1 col-span-1" *ngIf="role == 'Approver'">
                                                <label class="text-xs text-[#454545] font-medium" for="videoUpload">Add
                                                      Front Hero GIF or MP4</label>
                                                <input type="file" id="videoUpload"
                                                      accept="video/mp4,video/x-m4v,video/*"
                                                      (change)="onVideoFileSelected($event)"
                                                      class="border border-gray-300 rounded-lg px-2 py-1 focus:outline outline-primary text-sm bg-transparent" />
                                          </div>
                                          <div class="grid gap-1 col-span-1">
                                                <label class="text-base text-[#454545] font-medium"
                                                      for="videoUpload">GeoJson OR KML</label>
                                                <div class="flex gap-10 mt-2 items-center">
                                                      <div class="flex items-center gap-2">
                                                            <input type="radio" class="h-4 w-4 accent-primary"
                                                                  (change)="geoJsonOrKmlChange($event)" checked
                                                                  name="geoJson_or_kml" value="K" />
                                                            <label class="text-xs text-[#454545] font-medium"
                                                                  for="videoUpload">KML</label>
                                                      </div>
                                                      <div class="flex items-center gap-2">
                                                            <input type="radio" name="geoJson_or_kml" value="G"
                                                                  class="h-4 w-4 accent-primary"
                                                                  (change)="geoJsonOrKmlChange($event)" />
                                                            <label class="text-xs text-[#454545] font-medium"
                                                                  for="videoUpload">GeoJson</label>
                                                      </div>
                                                </div>
                                          </div>
                                          <div class="grid gap-1 col-span-1" *ngIf="geoJson_or_kml == 'G'">
                                                <label class="text-xs text-[#454545] font-medium" for="videoUpload">Add
                                                      GeoJson file</label>
                                                <input type="file" (change)="onGeoJsonFileSelected($event)"
                                                      class="border border-gray-300 rounded-lg px-2 py-1 focus:outline outline-primary text-sm bg-transparent" />
                                          </div>
                                          <div class="grid gap-1 col-span-1" *ngIf="geoJson_or_kml == 'K'">
                                                <label class="text-xs text-[#454545] font-medium" for="videoUpload">KML
                                                      link</label>
                                                <input type="text" placeholder="Enter KML link here"
                                                      [(ngModel)]="kml_link" name="kml_link"
                                                      class="border border-gray-300 rounded-lg px-5 py-2 focus:outline outline-primary text-sm bg-transparent" />
                                          </div>
                                          <div class="flex justify-end space-x-4 mt-4">
                                                <button
                                                      class="text-white bg-primary-gradient px-4 py-1 hover:bg-transparent hover:text-primary rounded-md border border-primary flex items-center space-x-2 font-medium"
                                                      type="button" label="Previous"
                                                      (click)="prevPage()">Previous</button>
                                                <button
                                                      class="text-white bg-primary-gradient px-4 py-1 hover:bg-transparent hover:text-primary rounded-md border border-primary flex items-center space-x-2 font-medium"
                                                      type="button" label="Next" (click)="nextPage()">Next</button>
                                          </div>
                                    </div>
                              </form>
                        </div>
                        <div class="p-fluid" *ngIf="activeIndex === 4">
                              <form class="flex justify-center">
                                    <div class="col-span-1 grid grid-cols-1 gap-x-4 gap-y-5">
                                          <label class="text-xs text-[#454545] font-medium" for="videoUpload">Upload Max
                                                4 documents</label>
                                          <div class="flex flex-wrap gap-6">
                                                <div *ngFor="let pdf of selectedPdf; let i = index" class="relative">
                                                      <img src="assets/images/pdf.png" />
                                                </div>
                                                <div *ngIf="selectedPdf.length < maxPdfs">
                                                      <input type="file" #pdfInput accept="application/pdf"
                                                            (change)="onPdfFileSelected($event)"
                                                            [disabled]="selectedPdf.length >= maxPdfs"
                                                            class="absolute hidden cursor-pointer" />
                                                      <img src="assets/images/pdf_add.png" (click)="pdfInput.click()" />
                                                </div>
                                          </div>
                                          <!-- <div class="grid gap-1 col-span-1">
                                                <label class="text-xs text-[#454545] font-medium"
                                                      for="videoUpload">Third-Party Certifications or
                                                      Partnerships</label>
                                                <input type="text"
                                                      class="border border-gray-300 rounded-lg px-5 py-2 focus:outline outline-primary text-sm bg-transparent" />
                                          </div> -->
                                          <div class="grid gap-1 col-span-1" *ngIf="role == 'Approver'">
                                                <label class="text-xs text-[#454545] font-medium"
                                                      for="videoUpload">Project Registry (For linking with external or
                                                      internal registries)</label>
                                                <input type="text"
                                                      class="border border-gray-300 rounded-lg px-5 py-2 focus:outline outline-primary text-sm bg-transparent" />
                                          </div>
                                          <div class="flex justify-end space-x-4 mt-4">
                                                <button
                                                      class="text-white bg-primary-gradient px-4 py-1 hover:bg-transparent hover:text-primary rounded-md border border-primary flex items-center space-x-2 font-medium"
                                                      type="button" label="Previous"
                                                      (click)="prevPage()">Previous</button>
                                                <button
                                                      class="text-white bg-primary-gradient px-4 py-1 hover:bg-transparent hover:text-primary rounded-md border border-primary flex items-center space-x-2 font-medium"
                                                      type="button" (click)="finalize()">Finalize</button>
                                          </div>
                                    </div>
                              </form>
                        </div>
                  </div>

                  <!------------------------------------------------------- Preview ------------------------------------------------------->

                  <div class="col-span-2 border-l pl-3 hidden lg:block">
                        <div>
                              <button class="py-2 w-full rounded-lg text-primary bg-[#E1F4DE]">Preview</button>
                        </div>
                        <div class="mt-5">
                              <div class="relative h-[80vh]">
                                    <video autoplay muted loop id="videoPreview" class="w-full h-full object-cover">
                                          <source src="assets/images/Untitled (1).mp4" type="video/mp4">
                                    </video>
                                    <div class="overlay"></div>
                                    <div class="container mx-auto">
                                          <div class="container mx-auto absolute top-5">
                                                <div class="flex justify-center mt-16">
                                                      <div class="grid gap-4">
                                                            <div class="flex space-x-3 justify-center">
                                                                  <img [src]=" flagUrl ? flagUrl : 'assets/images/US.svg'"
                                                                        class="w-8 h-6">
                                                                  <p class="text-white text-base font-medium">
                                                                        {{country}}</p>
                                                                  <div class="border-r border-white"></div>
                                                                  <p class="text-white text-base font-medium">
                                                                        {{project_area ? project_area : 514 }}
                                                                        {{landUnit}}</p>
                                                            </div>
                                                            <p
                                                                  class="text-white text-3xl font-semibold uppercase text-center">
                                                                  {{project_name ? project_name : 'King County Parks'}}
                                                            </p>
                                                            <p class="text-white text-xl text-center">{{project_subtitle
                                                                  ? project_subtitle : 'Improved Forest Management'}}
                                                            </p>
                                                            <div class="flex justify-center">
                                                                  <button
                                                                        class="bg-primary-gradient text-white text-sm hover:bg-transparent hover:text-primary border border-primary rounded-md py-1 px-4 uppercase">Support
                                                                        Now</button>
                                                            </div>
                                                            <div class="mt-24">
                                                                  <p class="text-white text-xl text-center">
                                                                        {{project_subtitle_2 ? project_subtitle_2 :
                                                                        'From
                                                                        planned residential developments to public parks
                                                                        on the outskirts of Seattle'}}</p>
                                                            </div>
                                                      </div>
                                                </div>
                                          </div>
                                    </div>
                                    <div class="bg-gray-400 p-7 absolute bottom-0 w-full">
                                          <div class="container mx-auto">
                                                <div class="flex justify-center space-x-1 flex-wrap">
                                                      <a
                                                            class="text-sm uppercase font-medium text-white px-3 py-1 hover:bg-primary-gradient rounded-full">Overview</a>
                                                      <a
                                                            class="text-sm uppercase font-medium text-white px-3 py-1 hover:bg-primary-gradient rounded-full">Gallery</a>
                                                      <a
                                                            class="text-sm uppercase font-medium text-white px-3 py-1 hover:bg-primary-gradient rounded-full">Evaluation</a>
                                                      <a
                                                            class="text-sm uppercase font-medium text-white px-3 py-1 hover:bg-primary-gradient rounded-full">Story</a>
                                                      <a
                                                            class="text-sm uppercase font-medium text-white px-3 py-1 hover:bg-primary-gradient rounded-full">Beyond
                                                            Carbon</a>
                                                </div>
                                          </div>
                                    </div>
                              </div>
                              <div class="container mx-auto mt-14">
                                    <div class="grid grid-cols-1 md:grid-cols-6">
                                          <div class="md:col-span-5 col-span-1">
                                                <div class="" id="overview">
                                                      <p class="font-bold text-lg text-[#6b7e7b] uppercase">Overview</p>
                                                      <p class="font-semibold text-base my-2"> {{project_name ?
                                                            project_name
                                                            : 'King County Parks'}}</p>
                                                      <div class="flex space-x-2 text-xs">
                                                            <div class="flex space-x-1 items-start mr-3">
                                                                  <img [src]="flagUrl ? flagUrl :'assets/images/US.svg'"
                                                                        class="w-6 h-4">
                                                                  <p class="font-medium whitespace-nowrap">{{country}}
                                                                  </p>
                                                            </div>
                                                            <div class="border-r border-[#bed8d6]"></div>
                                                            <p class="text-[#6b7e7b] font-medium whitespace-nowrap">
                                                                  {{project_area ? project_area : 514 }} {{landUnit}}
                                                            </p>
                                                            <div class="border-r border-[#bed8d6]"></div>
                                                            <p class="text-[#6b7e7b] font-medium whitespace-pre-wrap">
                                                                  Developer: King County
                                                                  Department of Natural
                                                                  Resources, Water and Land Resources Division</p>
                                                      </div>
                                                      <p class="font-semibold text-base my-5">{{project_subtitle
                                                            ? project_subtitle : 'Improved Forest Management'}}
                                                      </p>
                                                      <ng-container *ngIf="project_short_desc; else Default">
                                                            <p class="revert-tailwind" [innerHTML]="project_short_desc">
                                                            </p>
                                                      </ng-container>
                                                      <ng-template #Default>
                                                            <p class="font-medium text-[#222] text-xs">The
                                                                  King County Forest
                                                                  Carbon
                                                                  Program supports the
                                                                  permanent
                                                                  protection of
                                                                  threatened forests in
                                                                  both rural and more suburban parts of the county
                                                                  across a
                                                                  set of dispersed
                                                                  properties
                                                                  including
                                                                  some islands in Puget Sound. As of 2020, the project
                                                                  has
                                                                  acquired 96 parcels
                                                                  totaling 514
                                                                  hectares and will continue to add more as the project
                                                                  progresses. Run by the King
                                                                  County
                                                                  Department of Natural Resources and Parks (DNRP), this
                                                                  project is using carbon
                                                                  financing
                                                                  to
                                                                  accelerate the purchase of additional parcels of land
                                                                  that
                                                                  are at risk of clearing
                                                                  for
                                                                  rural
                                                                  residential development or commercial timber harvest.
                                                            </p>
                                                      </ng-template>

                                                      <div class="flex justify-start items-center mt-4">
                                                            <button
                                                                  class="bg-primary-gradient text-white hover:bg-transparent hover:text-primary border border-primary rounded-full py-1 px-4">Learn
                                                                  more
                                                            </button>
                                                      </div>
                                                </div>
                                          </div>
                                          <div class="md:col-span-1 col-span-6">
                                                <div class="flex items-center md:pl-8 h-full">
                                                      <div class="grid gap-1">
                                                            <p class="font-bold text-sm text-[#6b7e7b] uppercase">
                                                                  Registry</p>
                                                            <div class="flex gap-x-10">
                                                                  <img src="assets/images/Verra.webp" class="">
                                                            </div>
                                                            <p class="font-medium text-sm text-[#6b7e7b]">Registry ID:
                                                                  1911
                                                            </p>
                                                            <p class="font-bold text-sm text-[#6b7e7b] uppercase">
                                                                  Methodology</p>
                                                            <p class="font-semibold text-sm text-[#6b7e7b] uppercase">
                                                                  VM0012</p>
                                                      </div>
                                                </div>
                                          </div>
                                    </div>
                              </div>
                              <div class="mt-14" id="gallery">
                                    <ng-container *ngIf="images.length > 0">
                                          <p-galleria [value]="images" [numVisible]="1"
                                                [(activeIndex)]="imageActiveIndex" [showThumbnails]="false"
                                                [showItemNavigators]="true" galleriaClass="productDetail_custom_slider">
                                                <ng-template pTemplate="item" let-item>
                                                      <img [src]="item.url" style="width: 100%;" />
                                                </ng-template>
                                                <ng-template pTemplate="caption" let-item>
                                                      <div
                                                            class="bg-[#000000da] text-white text-xs font-medium mx-24 mb-5 p-5 flex justify-between h-20 items-center">
                                                            <p>{{ item?.title }} </p>
                                                            <p class="text-sm mr-28 px-4 border-r border-white">{{
                                                                  imageActiveIndex
                                                                  + 1 }}/{{ images.length
                                                                  }}</p>
                                                      </div>
                                                </ng-template>
                                          </p-galleria>
                                    </ng-container>
                              </div>
                              <div class="bg-black p-10 flex justify-center">
                                    <div class="container">
                                          <div class="max-w-[80%] mx-auto">
                                                <p class="text-base text-center text-white uppercase font-semibold">
                                                      Vanya'S PROJECT EVALUATION CRITERIA
                                                </p>
                                                <p class="text-center mt-6 text-white text-sm">Vanya rigorously
                                                      evaluates
                                                      every project listed on our
                                                      marketplace
                                                      to ensure that
                                                      we're surfacing only the highest quality projects. Our Evaluation
                                                      Criteria includes a
                                                      series of checks that every project must pass as well as a number
                                                      of informative
                                                      insights on project quality. You can see a preview of these checks
                                                      below.</p>

                                                <div class="flex justify-center text-sm mt-6">
                                                      <button
                                                            class="border-2 border-white flex items-center py-1 px-5 rounded-md text-white">Contact
                                                            sales to
                                                            learn more
                                                            ></button>
                                                </div>
                                          </div>
                                          <div class="max-w-[80%] mx-auto mt-5 pb-10 relative" *ngIf="products">
                                                <p-carousel [value]="products" [numVisible]="2" [numScroll]="1"
                                                      [responsiveOptions]="responsiveOptions"
                                                      styleClass="animated-slider">
                                                      <ng-template let-product pTemplate="item">
                                                            <div class="p-5">
                                                                  <p class="text-white text-sm font-semibold">
                                                                        {{product.id}}</p>
                                                                  <p class="text-white text-lg font-medium">
                                                                        {{product.heading}}</p>
                                                                  <p class="text-white font-normal">
                                                                        {{product.description}}</p>
                                                                  <video autoplay muted loop id="myVideo"
                                                                        class="w-full h-full object-cover">
                                                                        <source [src]="product.src" type="video/mp4">
                                                                  </video>
                                                                  <div class="flex items-center gap-3 text-white"
                                                                        *ngFor="let item of product.options;let i = index">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                              width="1.2em" height="1.2em"
                                                                              viewBox="0 0 24 24">
                                                                              <path fill="currentColor"
                                                                                    d="m9.55 18l-5.7-5.7l1.425-1.425L9.55 15.15l9.175-9.175L20.15 7.4z" />
                                                                        </svg>
                                                                        <span>{{item}}</span>
                                                                  </div>
                                                            </div>
                                                      </ng-template>
                                                </p-carousel>
                                          </div>
                                          <div class="flex justify-center mt-5">
                                                <button
                                                      class="rounded-full py-2 px-6 bg-[#222222] flex items-center text-white">
                                                      <svg xmlns="http://www.w3.org/2000/svg" width="1.2em"
                                                            height="1.2em" viewBox="0 0 24 24">
                                                            <path fill="currentColor"
                                                                  d="m9.55 18l-5.7-5.7l1.425-1.425L9.55 15.15l9.175-9.175L20.15 7.4z" />
                                                      </svg>
                                                      <span class="ml-2 mr-5">Quality check</span>
                                                      <svg xmlns="http://www.w3.org/2000/svg" width="1.2em"
                                                            height="1.2em" viewBox="0 0 24 24">
                                                            <path fill="currentColor" fill-rule="evenodd"
                                                                  d="M20 3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H6c-.55 0-1-.45-1-1s.45-1 1-1h3c.55 0 1 .45 1 1s-.45 1-1 1m0-4H6c-.55 0-1-.45-1-1s.45-1 1-1h3c.55 0 1 .45 1 1s-.45 1-1 1m0-4H6c-.55 0-1-.45-1-1s.45-1 1-1h3c.55 0 1 .45 1 1s-.45 1-1 1m9.7 2.12l-3.17 3.17c-.39.39-1.03.39-1.42 0l-1.41-1.42a.996.996 0 1 1 1.41-1.41l.71.71l2.47-2.47a.996.996 0 0 1 1.41 0l.01.01c.38.39.38 1.03-.01 1.41" />
                                                      </svg>
                                                      <span class="ml-2">Quality insights</span>
                                                </button>
                                          </div>
                                    </div>
                              </div>
                              <div class="container mx-auto mt-16">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
                                          <div class="col-span-1">
                                                <ng-container *ngIf="project_brief_detail; else DefaultDescription">
                                                      <p class="font-bold text-base text-[#6b7e7b] uppercase">
                                                            Project
                                                            Story</p>
                                                      <p class="revert-tailwind" [innerHTML]="project_brief_detail"></p>
                                                </ng-container>
                                                <ng-template #DefaultDescription>
                                                      <div class="" id="story">
                                                            <p class="font-bold text-base text-[#6b7e7b] uppercase">
                                                                  Project
                                                                  Story</p>
                                                            <p class="font-semibold text-base my-5">Transforming barren
                                                                  land
                                                                  into
                                                                  forests to support farming
                                                                  activities, improve soil health, and
                                                                  increase water.</p>
                                                            <p class="font-medium text-[#222] text-xs">The project began
                                                                  tree
                                                                  planting
                                                                  on July 15, 2008,
                                                                  across 13 sites in the state of
                                                                  Madhya Pradesh, totaling 189 hectares of land
                                                                  restored. They
                                                                  were either users
                                                                  lands, areas adversely affected by high salinity, or
                                                                  ravines
                                                                  near waterways where
                                                                  topsoil had been washed away. Both types of land need
                                                                  dedicated efforts to
                                                                  become fertile again.</p>
                                                            <p class="font-medium text-[#222] text-xs mt-5">The project
                                                                  began
                                                                  tree
                                                                  planting on July 15, 2008,
                                                                  across 13 sites in the state of
                                                                  Madhya Pradesh, totaling 189 hectares of land
                                                                  restored. They
                                                                  were either users
                                                                  lands, areas adversely affected by high salinity, or
                                                                  ravines
                                                                  near waterways where
                                                                  topsoil had been washed away. Both types of land need
                                                                  dedicated efforts to
                                                                  become fertile again.</p>
                                                            <p class="font-medium text-[#222] text-xs mt-5">The project
                                                                  began
                                                                  tree
                                                                  planting on July 15, 2008,
                                                                  across 13 sites in the state of
                                                                  Madhya Pradesh, totaling 189 hectares of land
                                                                  restored. They
                                                                  were either users
                                                                  lands, areas adversely affected by high salinity, or
                                                                  ravines
                                                                  near waterways where
                                                                  topsoil had been washed away. Both types of land need
                                                                  dedicated efforts to
                                                                  become fertile again.</p>
                                                      </div>
                                                </ng-template>
                                          </div>
                                          <div class="">
                                                <img src="assets/images/Frame 36606.png" class="w-full">
                                          </div>
                                    </div>
                              </div>
                              <div class="bg-[#b0c6c1] p-10 flex justify-center mt-5 ">
                                    <div class="container">
                                          <div class="mx-auto">
                                                <p class="text-base text-center text-primary uppercase font-semibold">
                                                      Impacts beyond carbon
                                                </p>
                                                <p class="text-2xl text-center text-[#2B2B2B] uppercase font-semibold">
                                                      Climate benefits and healthy communities
                                                </p>
                                                <p class="text-center mt-6 text-[#2B2B2B] text-sm">All of the properties
                                                      included in the project are open for public use, expanding access
                                                      to forested green space and providing physical and mental health
                                                      benefits to the county’s residents. There is significant local
                                                      support for additional parks, green space, and conservation in the
                                                      rapidly developing area surrounding Seattle. Learn more about a
                                                      few of their key initiatives:</p>
                                          </div>
                                          <div class="mx-auto mt-5 pb-10 relative" *ngIf="products">
                                                <p-carousel [value]="allSelectedSdg" [numVisible]="2" [numScroll]="1"
                                                      [responsiveOptions]="responsiveOptions">
                                                      <ng-template let-sdg pTemplate="item">
                                                            <div class="p-5 bg-white rounded-lg mx-2 h-full">
                                                                  <img [src]="sdg.logo" class="w-20 rounded-md mb-2">
                                                                  <p class="text-[#2B2B2B] text-sm font-semibold">
                                                                        {{sdg.id}}</p>
                                                                  <p class="text-[#2B2B2B] text-lg font-medium">
                                                                        {{sdg.name}}</p>
                                                                  <p class="text-[#2B2B2B] text-sm font-normal">
                                                                        {{sdg.description}}</p>
                                                            </div>
                                                      </ng-template>
                                                </p-carousel>
                                          </div>
                                    </div>
                              </div>
                              <div class="bg-black flex justify-center p-5">
                                    <div class="container">
                                          <p class="text-white font-bold uppercase">Public registry documents</p>
                                          <p class="text-white font-medium mb-5">Applicable calculation methods are
                                                referenced in the reports below. Note that registries do not publicly
                                                provide all pertinent data required to reproduce emissions calculations.
                                                However, Independent Validation and Verification Bodies have access to
                                                the data needed to reproduce and verify emissions calculations.</p>
                                          <div class="py-3 flex justify-between items-center border-b"
                                                *ngFor="let file of allSelectedPdf">
                                                <div class="flex gap-3 items-center">
                                                      <div class="p-2 bg-primary-gradient text-white rounded-lg">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="2em"
                                                                  height="2em" viewBox="0 0 24 24">
                                                                  <path fill="currentColor"
                                                                        d="M7.503 13.002a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 1 0v-.5H8.5a1.5 1.5 0 0 0 0-3zm.997 2h-.497v-1H8.5a.5.5 0 1 1 0 1m6.498-1.5a.5.5 0 0 1 .5-.5h1.505a.5.5 0 1 1 0 1h-1.006l-.001 1.002h1.007a.5.5 0 0 1 0 1h-1.007l.002.497a.5.5 0 0 1-1 .002l-.003-.998v-.002zm-3.498-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h.498a2 2 0 0 0 0-4zm.5 3v-2a1 1 0 0 1 0 2M20 20v-1.164c.591-.281 1-.884 1-1.582V12.75c0-.698-.409-1.3-1-1.582v-1.34a2 2 0 0 0-.586-1.414l-5.829-5.828l-.049-.04l-.036-.03a2 2 0 0 0-.219-.18a1 1 0 0 0-.08-.044l-.048-.024l-.05-.029c-.054-.031-.109-.063-.166-.087a2 2 0 0 0-.624-.138q-.03-.002-.059-.007L12.172 2H6a2 2 0 0 0-2 2v7.168c-.591.281-1 .884-1 1.582v4.504c0 .698.409 1.3 1 1.582V20a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2m-2 .5H6a.5.5 0 0 1-.5-.5v-.996h13V20a.5.5 0 0 1-.5.5m.5-10.5v1h-13V4a.5.5 0 0 1 .5-.5h6V8a2 2 0 0 0 2 2zm-1.122-1.5H14a.5.5 0 0 1-.5-.5V4.621zm-12.628 4h14.5a.25.25 0 0 1 .25.25v4.504a.25.25 0 0 1-.25.25H4.75a.25.25 0 0 1-.25-.25V12.75a.25.25 0 0 1 .25-.25" />
                                                            </svg>
                                                      </div>
                                                      <p class="text-white font-medium">{{file}}</p>
                                                </div>
                                                <div>
                                                      <button
                                                            class="text-white px-4 py-1 border border-white hover:bg-white hover:text-black flex gap-2 items-center rounded-lg">
                                                            Download
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="1.2em"
                                                                  height="1.2em" viewBox="0 0 24 24">
                                                                  <path fill="currentColor"
                                                                        d="M5 21v-1h14v1zm6.98-3.77L6.367 9.79h3.269V3h4.711v6.789h3.27zm0-1.634l3.574-4.788h-2.208V4h-2.711v6.808H8.427zm.02-4.788" />
                                                            </svg>
                                                      </button>
                                                </div>
                                          </div>
                                    </div>
                              </div>
                        </div>
                  </div>